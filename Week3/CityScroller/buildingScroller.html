<html>
	<head>
		<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
		<script type="text/processing"></script>
		<script type="text/processing" data-processing-target="mycanvas">

		var backDrop;
		var middleDrop; 
		var frontDrop; 
		var width = 800;
		var height = 600;
			void setup()
			{
			  size(width,height);
			  background(125);
			  fill(255);
			  //noLoop();
			  PFont fontA = loadFont("courier");
			  textFont(fontA, 14);  

			  backDrop = new Drop(700, 0, [0,0,0]); 
			  middleDrop = new Drop(500, 0, [100,100,100]); 
			  frontDrop = new Drop(300, 0, [200,200,200]); 
			}

			void draw(){  
			  text("Hello Web!",20,20);
			  println("Hello ErrorLog!");

			  backDrop.drawBuildings();
			  //backDrop.moveBuildings();

			  middleScroller.drawBuildings(); 
			  //middleScroller.moveBuildings(); 

			  frontScroller.drawBuildings();
			  //frontScroller.moveBuildings(); 
			}


			class Drop{

				var layerWidth = width; 
				var layerHeight; 
				var speed; 
				var r; 
				var g; 
				var b; 
				//var buildings = new Array(); 

				Drop(height, s, color){
					layerHeight = height; 
					speed = s; 
					r= color[0]; 
					g= color[1]; 
					b= color[2]; 
					}

				}

				void drawDrawbuildings(){
					var maxHeight = layerHeight;
					var minHeight = layerHeight*0.25; 
					var buildHeight, buildWidth; 
					var currentX = 0; 
					var endX = width; 
					var build;

					while(currentX < endX){
						buildHeight = Math.floor(Math.random()*(maxHeight-minHeight)+minHeight);
						buildWidth = 100; // test 
						build = Building(buildWidth, buildHeight, [r,g,b], currentX, layerHeight - buildHeight);
						build.draw(); 
						currentX +=buildWidth; 
					}

				}

				// void moveBuildings(){

				// }

			}

			class Building{

				var xPos;
				var yPos;
				var height;
				var width; 
				var r;
				var g;
				var b; 

				//class constructor
				Building(w, h, color, x, y){
					xPos=x;
					yPos = y; 
					height = h; 
					width = w;
					r = color[0];
					g = color[1]; 
					b = color[2]; 
				}

				//draw rectangles with given dimensions
				void drawBuilding(){
					noStroke(); 
					fill(r,g,b);
					rect(xPos, yPos, width, height);
				}

				//change x coord by given "speed"
				void move(speed){
					xPos -= speed; 
				}
			}


		</script>
	</head>
	<body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>